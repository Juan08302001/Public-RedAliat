<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Asistente Virtual UTAN Industrias</title>
<style>
  /* --- Body y Layout --- */
  body {
    font-family: "Inter", "Segoe UI", sans-serif;
    margin: 0;
    background: #f0f4f8;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  #chat-container {
    background: #fdfdff;
    width: 95%;
    max-width: 480px;
    height: 90vh;
    display: flex;
    flex-direction: column;
    border-radius: 30px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.08);
    overflow: hidden;
  }

  /* --- Cabecera --- */
  #chat-header {
    background: #1e3a8a;
    color: #fff;
    text-align: center;
    padding: 1.3rem;
    font-weight: 700;
    font-size: 1.35rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    letter-spacing: 0.5px;
  }

  /* --- Mensajes --- */
  #chat-messages {
    flex: 1;
    padding: 1rem;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    gap: 0.8rem;
    scroll-behavior: smooth;
    background: #eef2f7;
  }

  .message {
    max-width: 80%;
    padding: 1rem 1.3rem;
    border-radius: 20px;
    font-size: 0.95rem;
    line-height: 1.5;
    word-wrap: break-word;
    box-shadow: 0 6px 15px rgba(0,0,0,0.05);
    transition: transform 0.2s ease, opacity 0.2s ease;
    opacity: 0;
    transform: translateY(10px);
  }

  .bot {
    background: #fff;
    align-self: flex-start;
    border-bottom-left-radius: 4px;
    box-shadow: 6px 6px 15px rgba(0,0,0,0.05), -6px -6px 15px rgba(255,255,255,0.9);
  }

  .user {
    background: #1e3a8a;
    color: #fff;
    align-self: flex-end;
    border-bottom-right-radius: 4px;
    box-shadow: 6px 6px 15px rgba(0,0,0,0.08), -6px -6px 15px rgba(30,58,138,0.2);
  }

  .message.show {
    opacity: 1;
    transform: translateY(0);
  }

  /* --- Opciones / Chips --- */
  .options {
    display: flex;
    flex-wrap: wrap;
    gap: 0.6rem;
    margin-top: 0.5rem;
  }

  .chip {
    background: linear-gradient(145deg, #3b82f6, #1e40af);
    color: #fff;
    padding: 0.65rem 1.2rem;
    border-radius: 25px;
    cursor: pointer;
    font-size: 0.95rem;
    border: none;
    transition: all 0.3s ease;
    box-shadow: 3px 3px 12px rgba(0,0,0,0.08), -3px -3px 12px rgba(255,255,255,0.2);
  }

  .chip:hover {
    transform: scale(1.08);
    box-shadow: 4px 4px 15px rgba(0,0,0,0.1), -4px -4px 15px rgba(255,255,255,0.3);
  }

  /* --- Animación de escritura --- */
  .typing {
    font-style: italic;
    font-size: 0.88rem;
    color: #555;
    display: flex;
    gap: 6px;
    align-items: center;
    margin-left: 4px;
  }

  .dot {
    width: 6px;
    height: 6px;
    background: #555;
    border-radius: 50%;
    animation: blink 1.2s infinite;
  }
  .dot:nth-child(2) { animation-delay: 0.2s; }
  .dot:nth-child(3) { animation-delay: 0.4s; }

  @keyframes blink {
    0%, 80%, 100% {opacity: 0;}
    40% {opacity: 1;}
  }

  /* --- Enlaces y resaltado --- */
  a {
    color: #1e3a8a;
    text-decoration: none;
    font-weight: 600;
  }

  a:hover {
    text-decoration: underline;
  }

  .highlight {
    font-weight: 600;
    color: #1e3a8a;
  }

  /* --- Scroll y responsive --- */
  @media (max-width: 480px) {
    #chat-container { height: 95vh; }
    .message { font-size: 0.92rem; padding: 0.9rem 1rem; }
    .chip { font-size: 0.92rem; padding: 0.55rem 1rem; }
  }
</style>
</head>
<body>

<div id="chat-container">
  <div id="chat-header">🤖 Asistente Virtual UTAN Industrias</div>
  <div id="chat-messages"></div>
</div>

<script>
const menu = {
  inicio: {
    question: "Hola 👋 Soy tu asistente virtual. ¿En qué área necesitas ayuda?",
    options: [
      { text: "📚 Servicios Escolares", next: "escolares" },
      { text: "💻 Sistemas", next: "sistemas" },
      { text: "💰 Finanzas", next: "finanzas" }
    ]
  },
  escolares: {
    question: "Preguntas frecuentes en Servicios Escolares:",
    options: [
      { text: "Entrega de documentos de nuevo ingreso", answer: "Debes entregar: acta de nacimiento, certificado de preparatoria, CURP, comprobante de pago y fotos tamaño infantil." },
      { text: "Requisitos para Servicio Social", answer: "Debes haber cubierto al menos el 70% de créditos y llenar el formato en Servicios Escolares." },
      { text: "Carga de materias", answer: "Si tienes problemas con tu carga de materias, acércate con tu coordinador de carrera." },
      { text: "Solicitar constancias", answer: "Puedes solicitar constancias en Servicios Escolares o por correo institucional." },
      { text: "⬅️ Menú principal", next: "inicio", reset: true }
    ]
  },
  sistemas: {
    question: "Preguntas frecuentes en Sistemas:",
    options: [
      { text: "No puedo entrar a Mi Red Aliat", answer: "Debes tener solo una app instalada. Si tienes dos, desinstálalas y deja solo la más reciente. Verifica en ajustes -> Aplicaciones. Recuerda que no tengas algún adeudo." },
      { text: "Problemas con Brightspace", answer: "Si Brightspace falla o no te aparecen tareas, escribe a <a href='mailto:ayudaenlinea@redaliat.mx'>ayudaenlinea@redaliat.mx</a> o manda un WhatsApp a <a href='https://wa.me/525578881566?text=Hola%2C%20tengo%20un%20problema%20con%20Brightspace'>55 7888 1566</a>. Incluye tu nombre completo, ID (E+00000+), licenciatura y campus." },
      { text: "Olvidé mi contraseña de Brightspace o correo", answer: "Envía un correo a <a href='mailto:ayudaenlinea@redaliat.mx'>ayudaenlinea@redaliat.mx</a> o WhatsApp a <a href='https://wa.me/525578881566?text=Hola%2C%20olvidé%20mi%20contraseña'>55 7888 1566</a> con tu nombre, ID, carrera y campus." },
      { text: "Licencia de Office", answer: "Tu cuenta incluye Office 365 online (solo navegador). No instales la versión local, ya que después de 3 meses marcará como inactiva." },
      { text: "⬅️ Menú principal", next: "inicio", reset: true }
    ]
  },
  finanzas: {
    question: "Preguntas frecuentes en Finanzas:",
    options: [
      { text: "Costo de constancia de estudios", answer: "El costo es de <span class='highlight'>$215.00</span>. Puedes pagar en caja del campus 🏦 o en línea 🌐." },
      { text: "Costo de constancia con calificaciones", answer: "El costo es de <span class='highlight'>$365.00</span>. Puedes pagar en caja del campus 🏦 o en línea 🌐." },
      { text: "Costo de Kardex", answer: "El costo es de <span class='highlight'>$215.00</span>. Puedes pagar en caja del campus 🏦 o en línea 🌐." },
      { text: "Costo de devolución de documentos por baja definitiva", answer: "El costo es de <span class='highlight'>$380.00</span>. Puedes pagar en caja del campus 🏦 o en línea 🌐." },
      { text: "Costo de préstamo de documentos originales", answer: "El costo es de <span class='highlight'>$380.00</span>. Puedes pagar en caja del campus 🏦 o en línea 🌐." },
      { text: "Costo de constancia para seguro facultativo", answer: "El costo es de <span class='highlight'>$215.00</span>. Puedes pagar en caja del campus 🏦 o en línea 🌐." },
      { text: "Costo de historial académico", answer: "El costo es de <span class='highlight'>$105.00</span>. Puedes pagar en caja del campus 🏦 o en línea 🌐." },
      { text: "Costo de baja definitiva", answer: "El costo es de <span class='highlight'>$1,115.00</span>. Puedes pagar en caja del campus 🏦 o en línea 🌐." },
      { text: "Costo de baja temporal", answer: "El costo es de <span class='highlight'>$365.00</span>. Puedes pagar en caja del campus 🏦 o en línea 🌐." },
      { text: "Costo de cambio de modalidad", answer: "El costo es de <span class='highlight'>$1,295.00</span>. Puedes pagar en caja del campus 🏦 o en línea 🌐." },
      { text: "Costo de certificado parcial", answer: "El costo es de <span class='highlight'>$3,320.00</span>. Puedes pagar en caja del campus 🏦 o en línea 🌐." },
      { text: "Costo de certificado total", answer: "El costo es de <span class='highlight'>$3,320.00</span>. Puedes pagar en caja del campus 🏦 o en línea 🌐." },
      { text: "Costo de seguro escolar", answer: "El costo es de <span class='highlight'>$335.00</span>. Puedes pagar en caja del campus 🏦 o en línea 🌐." },
      { text: "Costo de copias", answer: "El costo es de <span class='highlight'>$5.00</span>. Este pago se realiza directamente en caja 🏦." },
      { text: "⬅️ Menú principal", next: "inicio", reset: true }
    ]
  }
};

const chat = document.getElementById("chat-messages");

function addMessage(text, sender="bot") {
  const div = document.createElement("div");
  div.classList.add("message", sender);
  div.innerHTML = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
  setTimeout(() => div.classList.add("show"), 10);
}

function showOptions(options, sectionKey) {
  const optDiv = document.createElement("div");
  optDiv.classList.add("options");
  options.forEach(opt => {
    const btn = document.createElement("button");
    btn.classList.add("chip");
    btn.textContent = opt.text;
    btn.onclick = () => handleOption(opt, sectionKey);
    optDiv.appendChild(btn);
  });
  chat.appendChild(optDiv);
  chat.scrollTop = chat.scrollHeight;
}

function typingEffect(callback, text="") {
  const typingDiv = document.createElement("div");
  typingDiv.classList.add("typing");
  typingDiv.innerHTML = '<div class="dot"></div><div class="dot"></div><div class="dot"></div>';
  chat.appendChild(typingDiv);
  chat.scrollTop = chat.scrollHeight;
  const delay = Math.min(Math.max(text.length * 18, 500), 1800);
  setTimeout(() => {
    chat.removeChild(typingDiv);
    callback();
  }, delay);
}

function renderSection(key) {
  const section = menu[key];
  typingEffect(() => {
    addMessage(section.question, "bot");
    showOptions(section.options, key);
  }, section.question);
}

function handleOption(opt, sectionKey) {
  addMessage(opt.text, "user");
  if (opt.reset) {
    resetChat();
  } else if (opt.answer) {
    typingEffect(() => {
      addMessage(opt.answer, "bot");
      showOptions([
        {text:"⬅️ Regresar", next:sectionKey},
        {text:"🏠 Menú principal", next:"inicio", reset:true}
      ], sectionKey);
    }, opt.answer);
  } else if (opt.next) {
    renderSection(opt.next);
  }
}

function resetChat() {
  chat.innerHTML = "";
  renderSection("inicio");
}

renderSection("inicio");
</script>

</body>
</html>
